<!DOCTYPE html>
<html lang="en">

<head>

	<head>
		<meta charset="utf-8">
		<meta name="keywords" content="bootstrap 5, premium, multipurpose, sass, scss, saas, software" />
		<meta name="description" content="HTML5 Template" />
		<meta name="author" content="www.themeht.com" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Petrichor</title>
		<link rel="shortcut icon" href="images/favicon.ico" />
		<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
		<link
			href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
			rel="stylesheet">
		<link href="css/animate.css" rel="stylesheet" type="text/css" />
		<link href="css/fontawesome-all.css" rel="stylesheet" type="text/css" />
		<link href="css/line-awesome.min.css" rel="stylesheet" type="text/css" />
		<link href="css/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css" />
		<link href="css/base.css" rel="stylesheet" type="text/css" />
		<link href="css/shortcodes.css" rel="stylesheet" type="text/css" />
		<link href="css/style.css" rel="stylesheet" type="text/css" />
		<link href="css/responsive.css" rel="stylesheet" type="text/css" />
		<link href="#" data-style="styles" rel="stylesheet">
		<link rel="stylesheet" href="css/custom.css">
	</head>

<body data-bs-spy="scroll" data-bs-target="#navbarNav">
	<div class="page-wrapper">
		<div id="ht-preloader">
			<div class="loader clear-loader">
				<div class="loader-box"></div>
				<div class="loader-box"></div>
				<div class="loader-box"></div>
				<div class="loader-box"></div>
				<div class="loader-wrap-text">
					<div class="text">
						<span>S</span><span>O</span><span>F</span><span>T</span><span>I</span><span>N</span><span>O</span>
					</div>
				</div>
			</div>
		</div>
		<header id="site-header" class="header header-1">
			<div class="container-fluid">
				<div id="header-wrap" class="box-shadow">
					<div class="row">
						<div class="col-lg-12">
							<!-- Navbar -->
							<nav class="navbar navbar-expand-lg">
								<a class="navbar-brand logo" href="index.html">
									<h2 class="fw-bolder">Petrichor</h2>
								</a>
								<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
									data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
									aria-label="Toggle navigation"> <span></span>
									<span></span>
									<span></span>
								</button>
								<div class="collapse navbar-collapse" id="navbarNav">
									<!-- Left nav -->
									<ul class="nav navbar-nav mx-auto">
										<!-- Home -->
										<li class="nav-item"> <a class="nav-link active" href="#home">Home</a>
										</li>
										<li class="nav-item"> <a class="nav-link" href="#about">About</a>
										</li>
										<li class="nav-item"> <a class="nav-link" href="#service">Service</a>
										</li>
										<li class="nav-item"> <a class="nav-link" href="#team">Team</a>
										</li>
										<li class="nav-item dropdown">
											<a class="nav-link dropdown-toggle" href="#"
												data-bs-toggle="dropdown">More</a>
											<ul class="dropdown-menu">
												<li><a href="faq.html">FAQ</a>
												</li>
											</ul>
										</li>
									</ul>
								</div>
								<a class="btn btn-theme btn-sm" href="bts.html" data-text="Predict">
									<span>P</span><span>r</span><span>e</span><span>d</span><span>i</span><span>c</span><span>t</span>
								</a>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</header>

		<div class="page-content pt-5 mt-5">
			<section class="login">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12 mx-auto text-center mt-5 mt-lg-0">
							<h2 class="fw-bolder mb-5">Predict BTS Location</h2>
						</div>
						<div class="col-lg-7 col-md-7">
							<div class="card">
								<div class="card-body">
									<div class="form-group">
										<input id="longitude" type="number" name="longitude" class="form-control"
											placeholder="Longitude" required="required">
										<div class="help-block with-errors"></div>
									</div>
									<div class="form-group">
										<input id="latitude" type="number" name="longitude" class="form-control"
											placeholder="Latitude" required="required">
										<div class="help-block with-errors"></div>
									</div>
									<div class="form-group">
										<input id="height" type="number" name="height" class="form-control"
											placeholder="Height" required="required">
										<div class="help-block with-errors"></div>
									</div>
									<div class="form-group">
										<input id="direction" type="number" name="direction" class="form-control"
											placeholder="Direction" required="required">
										<div class="help-block with-errors"></div>
									</div>
									<div class="form-group">
										<select name="cell-type" id="cell-type" class="form-control">
											<option value="" disabled selected>Choose Cell Type</option>
											<option value="1">Macro</option>
											<option value="2">Indoor</option>
										</select>
									</div>
									<button class="btn btn-theme" data-text="Submit" onclick="calculate()">
										<span>S</span><span>u</span><span>b</span><span>m</span><span>i</span><span>t</span>
									</button>
								</div>
							</div>
						</div>
						<div class="col-lg-5 col-md-5">
							<div class="card">
								<div class="card-header">
									<h4>Results</h4>
								</div>
								<div class="card-body">
									<div>
										<label for="category" class="fw-bold">Category : <div id="category"
												class="d-inline-block fw-normal">-</div>
										</label>
									</div>
									<div class="mt-3">
										<label for="map" class="mb-3 fw-bold">Map :</label>
										<div id="map"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>

		<footer class="footer position-relative" data-bg-img="images/bg/05.png">
			<div class="primary-footer">
				<div class="container">
					<div class="row">
						<div class="col-lg-4 col-md-6">
							<div class="footer-logo">
								<h2 class="fw-bolder">Petrichor</h2>
							</div>
							<p class="mb-0">Unlocking the Potential of Machine Learning for Optimal BTS Infrastructure
								Planning.</p>
						</div>
						<div class="col-lg-4 col-md-6 ps-md-5 mt-5 mt-md-0 footer-list justify-content-between d-flex">
							<ul class="list-unstyled w-100">
								<li><a href="about-us.html">About Us</a>
								</li>
								<li><a href="services.html">Service</a>
								</li>
								<li><a href="team.html">Team</a>
								</li>
								<li><a href="team-single.html">Team Single</a>
								</li>
								<li><a href="contact.html">Contact Us</a>
								</li>
							</ul>
							<ul class="list-unstyled w-100">
								<li><a href="blog-right-sidebar.html">Blog</a>
								</li>
								<li><a href="faq.html">Faq</a>
								</li>
								<li><a href="error-404.html">Error 404</a>
								</li>
								<li><a href="privacy-policy.html">Privacy Policy</a>
								</li>
								<li><a href="terms-and-conditions.html">Terms</a>
								</li>
							</ul>
						</div>
						<div class="col-lg-4 col-md-12 mt-5 mt-lg-0">
							<ul class="media-icon list-unstyled">
								<li>
									<p class="mb-0">Address: <b>423B, Road Wordwide Country, USA</b>
									</p>
								</li>
								<li>Email: <a href="mailto:rheznendra@gmail.com"><b>rheznendra@gmail.com</b></a>
								</li>
								<li>Phone: <a href="tel:+81238484413"><b>+812-3848-4413</b></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="secondary-footer">
				<div class="container">
					<div class="copyright">
						<div class="row align-items-center">
							<div class="col-lg-6 col-md-12">
								<span>Copyright 2023 Petrichor | All Rights Reserved
								</span>
							</div>
							<div class="col-lg-6 col-md-12 text-lg-end mt-3 mt-lg-0">
								<div class="footer-social">
									<ul class="list-inline">
										<li class="me-2"><a href="#"><i class="fab fa-facebook-f"></i> Facebook</a>
										</li>
										<li class="me-2"><a href="#"><i class="fab fa-twitter"></i> Twitter</a>
										</li>
										<li><a href="#"><i class="fab fa-google-plus-g"></i> Google Plus</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

	<div class="scroll-top"><a class="smoothscroll" href="#top"><i class="flaticon-go-up-in-web"></i></a></div>
	<script src="js/theme.js"></script>
	<script src="js/magnific-popup/jquery.magnific-popup.min.js"></script>
	<script src="js/counter/counter.js"></script>
	<script src="js/countdown/jquery.countdown.min.js"></script>
	<script src="js/canvas.js"></script>
	<script src="js/confetti.js"></script>
	<script src="js/snap.svg.js"></script>
	<script src="js/step.js"></script>
	<script src="js/wow.min.js"></script>
	<script src="js/theme-script.js"></script>
	<script>
		function calculate() {
			// get input values
			// let longitude = document.getElementById("longitude").value;
			// let latitude = document.getElementById("latitude").value;
			// let height = document.getElementById("height").value;
			// let direction = document.getElementById("direction").value;
			// let cell_type = document.getElementById("cell-type").value;

			document.getElementById("longitude").disabled = true
			document.getElementById("latitude").disabled = true
			document.getElementById("height").disabled = true
			document.getElementById("direction").disabled = true
			document.getElementById("cell-type").disabled = true
			let rsp = document.getElementById("category")
			rsp.innerHTML = '-'

			let longitude = 100.3521
			let latitude = -0.9730
			let height = 80.64
			let direction = 145
			let cell_type = 0

			axios.post('/predict', {
					longitude: longitude,
					latitude: latitude,
					height: height,
					direction: direction,
					cell_type: cell_type
				})
				.then(function (response) {
					console.log(response);
					createMarker(longitude, latitude, response.data)
					rsp.innerHTML = response.data
				})
				.catch(function (error) {
					console.log(error);
				})
				.then(() => {
					document.getElementById("longitude").disabled = false
					document.getElementById("latitude").disabled = false
					document.getElementById("height").disabled = false
					document.getElementById("direction").disabled = false
					document.getElementById("cell-type").disabled = false
				});

			// perform calculations to determine category
			// let category = "";
			// if (longitude !== "" && latitude !== "" && height !== "" && direction !== "") {
			// 	category = "Green";
			// } else if (longitude === "" && latitude === "" && height === "" && direction === "") {
			// 	category = "Red";
			// } else {
			// 	category = "Yellow";
			// }

			// display category
		}

		const createMarker = (long, lat, category) => {
			if (category == 'Hijau') {
				color = 'green'
			} else if (category == 'Kuning') {
				color = 'yellow'
			} else {
				color = 'red'
			}
			const url =
				`https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`
			// Create a map object and set the center and zoom level
			console.log(url);
			var map = L.map('map', {
				center: [lat, long],
				zoom: 12,
				dragging: false, // disable dragging
				touchZoom: false, // disable touch zoom
				scrollWheelZoom: false, // disable scroll wheel zoom
				doubleClickZoom: false, // disable double click zoom
				boxZoom: false, // disable box zoom
				zoomControl: false // hide zoom control
			})

			// Add a tile layer to the map
			L.tileLayer('https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png', {
				maxZoom: 18
			}).addTo(map);

			// Add a marker to the map with a blue icon
			var icon = L.icon({
				iconUrl: url,
				shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
				iconSize: [25, 41],
				iconAnchor: [12, 41],
				popupAnchor: [1, -34],
				shadowSize: [41, 41]
			})
			var marker = L.marker([lat, long], {
				icon: icon
			}).addTo(map);
		}
	</script>

</body>

</html>